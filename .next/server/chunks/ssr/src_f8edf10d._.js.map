{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/CodeClash-main/CodeClash-main/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 205, "column": 0}, "map": {"version":3,"sources":["file:///D:/CodeClash-main/CodeClash-main/src/components/Header.tsx"],"sourcesContent":["\n'use client';\n\nimport Link from \"next/link\";\nimport { useRouter } from 'next/navigation';\nimport { signOut } from 'firebase/auth';\nimport { auth } from '@/lib/firebase';\nimport { useAuth } from '@/hooks/useAuth';\nimport { Button } from \"@/components/ui/button\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuLabel, DropdownMenuSeparator, DropdownMenuTrigger } from \"@/components/ui/dropdown-menu\";\nimport { ArrowRight, Code, LogOut, User, Loader2, ExternalLink, BookOpen, Trophy, HelpCircle } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { motion } from \"framer-motion\";\n\n// Logo component with glassmorphism effect\nfunction CodeClashLogo() {\n  return (\n    <div className=\"relative flex items-center gap-2 group\">\n      <div className=\"absolute -inset-1 bg-gradient-to-r from-primary/30 to-accent/30 rounded-lg blur opacity-60 group-hover:opacity-100 transition duration-300\"></div>\n      <div className=\"relative flex items-center justify-center bg-black/20 backdrop-blur-sm p-1.5 rounded-lg border border-white/10 shadow-lg\">\n        <Code className=\"h-5 w-5 text-primary\" />\n      </div>\n      <span className=\"relative text-xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-primary to-accent\">CodeClash</span>\n    </div>\n  );\n}\n\nexport function Header() {\n  const { user, loading } = useAuth();\n  const router = useRouter();\n\n  const handleLogout = async () => {\n    if (auth) {\n        await signOut(auth);\n    }\n    router.push('/');\n  };\n\n  return (\n    <motion.header \n      initial={{ y: -100, opacity: 0 }}\n      animate={{ y: 0, opacity: 1 }}\n      transition={{ duration: 0.5 }}\n      className=\"sticky top-0 z-50 w-full border-b border-white/10 bg-background/60 backdrop-blur-xl shadow-md\"\n    >\n      <div className=\"container flex h-20 max-w-7xl mx-auto items-center justify-between px-4 sm:px-6 lg:px-8\">\n        <Link href=\"/\" className=\"flex items-center\" prefetch={false}>\n          <CodeClashLogo />\n        </Link>\n        <nav className=\"hidden md:flex items-center gap-8 text-sm font-medium\">\n          <Link \n            href=\"/lobby\" \n            className=\"flex items-center gap-1.5 text-muted-foreground hover:text-primary transition-colors py-2\" \n            prefetch={false}\n          >\n            <BookOpen className=\"h-4 w-4\" />\n            <span>Topics</span>\n          </Link>\n          <Link \n            href=\"/leaderboard\" \n            className=\"flex items-center gap-1.5 text-muted-foreground hover:text-primary transition-colors py-2\" \n            prefetch={false}\n          >\n            <Trophy className=\"h-4 w-4\" />\n            <span>Leaderboard</span>\n          </Link>\n          <Link \n            href=\"/#how-it-works\" \n            className=\"flex items-center gap-1.5 text-muted-foreground hover:text-primary transition-colors py-2\" \n            prefetch={false}\n          >\n            <HelpCircle className=\"h-4 w-4\" />\n            <span>How it Works</span>\n          </Link>\n          {/* GitHub link removed */}\n        </nav>\n        <div className=\"flex items-center gap-4\">\n          {loading ? (\n            <Loader2 className=\"h-5 w-5 animate-spin\" />\n          ) : user ? (\n             <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"ghost\" className=\"relative h-10 w-10 rounded-full overflow-hidden border border-white/20 bg-black/20 backdrop-blur-sm hover:bg-white/10 transition-colors\">\n                  <Avatar className=\"h-10 w-10\">\n                    <AvatarImage src={user.photoURL || undefined} alt={user.displayName || 'User'} />\n                    <AvatarFallback className=\"bg-gradient-to-br from-primary/20 to-accent/20\">\n                      {user.displayName?.substring(0,2).toUpperCase() || <UserIcon className=\"h-5 w-5 text-primary\" />}\n                    </AvatarFallback>\n                  </Avatar>\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent className=\"w-56 bg-card/80 backdrop-blur-lg border border-white/10\" align=\"end\" forceMount>\n                <DropdownMenuLabel className=\"font-normal\">\n                  <div className=\"flex flex-col space-y-1\">\n                    <p className=\"text-sm font-medium leading-none\">{user.displayName}</p>\n                    <p className=\"text-xs leading-none text-muted-foreground\">\n                      {user.email}\n                    </p>\n                  </div>\n                </DropdownMenuLabel>\n                <DropdownMenuSeparator className=\"bg-white/10\" />\n                <DropdownMenuItem \n                  className=\"hover:bg-white/10 focus:bg-white/10 cursor-pointer\"\n                  asChild\n                >\n                  <Link href=\"/profile\">\n                    <User className=\"mr-2 h-4 w-4 text-primary\" />\n                    <span>Profile</span>\n                  </Link>\n                </DropdownMenuItem>\n                <DropdownMenuSeparator className=\"bg-white/10\" />\n                <DropdownMenuItem \n                  onClick={handleLogout}\n                  className=\"hover:bg-white/10 focus:bg-white/10 cursor-pointer\"\n                >\n                  <LogOut className=\"mr-2 h-4 w-4 text-primary\" />\n                  <span>Log out</span>\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          ) : (\n            <>\n              <Button \n                variant=\"ghost\" \n                className=\"border border-white/10 bg-black/20 backdrop-blur-sm hover:bg-white/10 transition-colors\"\n                asChild\n              >\n                <Link href=\"/login\">Log In</Link>\n              </Button>\n              <Button \n                className=\"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:opacity-90 transition-opacity shadow-lg shadow-primary/20\"\n                asChild\n              >\n                <Link href=\"/signup\" className=\"flex items-center gap-1\">\n                  Sign Up\n                  <ArrowRight className=\"ml-1 h-4 w-4 transition-transform group-hover:translate-x-1\" />\n                </Link>\n              </Button>\n            </>\n          )}\n        </div>\n      </div>\n    </motion.header>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 646, "column": 0}, "map": {"version":3,"sources":["file:///D:/CodeClash-main/CodeClash-main/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 727, "column": 0}, "map": {"version":3,"sources":["file:///D:/CodeClash-main/CodeClash-main/src/ai/flows/generateProblemFlow.ts"],"sourcesContent":["'use server';\n/**\n * @fileOverview A flow to generate coding problems using AI.\n *\n * - generateProblem - A function that generates a new coding problem based on a topic.\n * - GenerateProblemInput - The input type for the generateProblem function.\n * - Problem - The return type for the generateProblem function, representing a coding problem.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\nimport type { Problem } from '@/lib/problems';\n\n// A schema for valid JSON values, restricted to primitives and arrays of\n// primitives/arrays. This is a workaround for limitations in the backend API's\n// schema parser, which dislikes fully generic object definitions.\nconst literalSchema = z.union([z.string(), z.number(), z.boolean(), z.null()]);\nconst jsonSchema: z.ZodType<any> = z.lazy(() =>\n  z.union([literalSchema, z.array(jsonSchema)])\n);\n\n\nconst TestCaseSchema = z.object({\n  input: z.array(jsonSchema).describe(\"An array of arguments for the function. This MUST be an array of pure JSON values (primitives or arrays). Objects are not supported.\"),\n  expected: jsonSchema.refine(val => val !== null && val !== undefined, { message: \"Expected value cannot be null or undefined.\" }).describe(\"The expected output for the test case. It MUST NOT be null or undefined.\"),\n});\n\nconst ProblemSchema: z.ZodType<Problem> = z.object({\n  id: z.string().describe('A unique identifier for the problem, in kebab-case. e.g., \"two-sum\"'),\n  title: z.string().describe('The title of the coding problem.'),\n  description: z.string().describe('A detailed description of the problem. Use newlines (`\\\\n`) for formatting. Do not use Markdown characters like `#` or `*`.'),\n  examples: z.array(z.object({\n    input: z.string().describe('A human-readable string representing an example input for the problem.'),\n    output: z.string().describe('The corresponding human-readable output for the example input.'),\n    explanation: z.string().optional().describe('An optional explanation of the example.'),\n  })).min(3).describe('An array of at least 3 clear examples with human-readable inputs, outputs, and optional explanations.'),\n  starterCode: z.string().describe('Boilerplate code in JavaScript for the user to start with, as a standard function declaration. e.g., \"function twoSum(nums, target) { ... }\"'),\n  solution: z.string().describe('A correct and optimal solution in JavaScript.'),\n  testCases: z.array(TestCaseSchema).min(5).describe(\"An array of at least 5 test cases to verify the solution. The 'input' field should be an array of arguments for the function.\"),\n  entryPoint: z.string().describe(\"The name of the function to be tested, e.g., 'twoSum'.\"),\n});\nexport type { Problem };\n\nconst GenerateProblemInputSchema = z.object({\n  topic: z.string().describe('The topic for the coding problem, e.g., \"Arrays & Hashing\", \"Dynamic Programming\".'),\n  difficulty: z.enum(['easy', 'medium', 'hard']).default('medium').optional().describe('The difficulty level of the problem.'),\n  seed: z.string().optional().describe('A random string to ensure the problem is unique and not from a cache.'),\n});\nexport type GenerateProblemInput = z.infer<typeof GenerateProblemInputSchema>;\n\n\nexport async function generateProblem(input: GenerateProblemInput): Promise<Problem> {\n  return generateProblemFlow(input);\n}\n\nconst generateProblemPrompt = ai.definePrompt({\n  name: 'generateProblemPrompt',\n  input: { schema: GenerateProblemInputSchema },\n  output: { schema: ProblemSchema },\n  prompt: `You are an expert programming challenge creator for a platform called CodeClash. Your task is to generate a unique, LeetCode-style problem based on a given topic.\n\nThe problem should be self-contained, clearly explained, and engaging. The difficulty should match the requested level (defaulting to medium if not specified). The problem, examples, and test cases should be solvable in JavaScript.\n\n**CRITICAL INSTRUCTIONS - FOLLOW THESE EXACTLY:**\n1.  **Output Format:** You MUST return a single JSON object that strictly adheres to the provided schema. ALL fields (\\`id\\`, \\`title\\`, \\`description\\`, \\`examples\\`, \\`starterCode\\`, \\`solution\\`, \\`testCases\\`, \\`entryPoint\\`) are mandatory.\n\n2.  **Problem Description Quality:**\n    *   Write clear, concise problem statements with proper formatting.\n    *   Include constraints like input size limits and value ranges.\n    *   Break down complex problems into steps or parts.\n    *   Use consistent terminology throughout the description.\n    *   Include time and space complexity expectations for optimal solutions.\n\n3.  **Examples Quality:**\n    *   Provide at least 3 examples with increasing complexity.\n    *   Include edge cases in your examples.\n    *   For each example, give a clear explanation of the step-by-step solution process.\n    *   Make sure examples are diverse and cover different scenarios.\n\n4.  **Test Case Validity is PARAMOUNT:**\n    *   You MUST provide at least 8 complete test cases.\n    *   Include a mix of simple cases, edge cases, and complex scenarios.\n    *   For **EVERY SINGLE TEST CASE**, the \\`expected\\` field MUST have a valid, concrete value.\n    *   The \\`expected\\` field **CANNOT BE \\`null\\`**.\n    *   The \\`expected\\` field **CANNOT BE \\`undefined\\`**.\n    *   If the correct output is an empty array, the \\`expected\\` value must be \\`[]\\`.\n    *   If the correct output is an empty string, the \\`expected\\` value must be \\`\"\"\\`.\n    *   If the correct output is \\`0\\`, the \\`expected\\` value must be \\`0\\`.\n    *   **There are no exceptions. The \\`expected\\` field must always be populated with a real value.**\n\n5.  **CRITICAL \\`testCases.input\\` FORMATTING:**\n    *   The \\`input\\` field for each test case MUST be an array of arguments.\n    *   The values within this array MUST be pure, valid JSON types (strings, numbers, booleans, nulls, and arrays). Objects are NOT supported.\n    *   **DO NOT** represent arrays or numbers as strings within the JSON.\n    *   **CORRECT:** \\`\"input\": [[1, 2, 3], 4]\\`\n    *   **INCORRECT:** \\`\"input\": [\"[1, 2, 3]\", 4]\\`\n    *   **INCORRECT:** \\`\"input\": [\"[1, 2, 3]\", \"4\"]\\`\n    *   **INCORRECT:** \\`\"input\": \"[[1,2,3], 4]\"\\` (The entire value should not be a string)\n    *   For a function \\`twoSum(nums, target)\\` a CORRECT \\`input\\` is \\`[[2, 7, 11, 15], 9]\\`.\n    *   For a function \\`rotate(nums, k)\\` a CORRECT \\`input\\` is \\`[[1,2,3,4,5], 2]\\`.\n\n6.  **Starter Code Quality:**\n    *   Provide meaningful variable names and basic structure.\n    *   Include helpful comments explaining the function parameters and expected return value.\n    *   Do not include solution hints in the starter code.\n\n7.  **Solution Quality:**\n    *   Provide an optimal, well-commented solution.\n    *   Include time and space complexity analysis in comments.\n    *   Use clear variable names and follow best practices.\n\n8.  **No Comments:** The final JSON output must NOT contain any comments.\n\n**Topic:** {{{topic}}}\n**Difficulty:** {{{difficulty}}}\n**Unique Request Seed:** {{{seed}}}\n\nGenerate a problem with all the required fields, paying special attention to the format and validity of the \\`testCases\\`. Double-check your work to ensure \\`expected\\` is never null or undefined and that all input values are pure JSON types.`,\n});\n\nconst generateProblemFlow = ai.defineFlow(\n  {\n    name: 'generateProblemFlow',\n    inputSchema: GenerateProblemInputSchema,\n    outputSchema: ProblemSchema,\n  },\n  async (input) => {\n    const { output } = await generateProblemPrompt(input);\n    if (!output) {\n      throw new Error('Failed to generate a problem from the AI model.');\n    }\n    return output;\n  }\n);\n"],"names":[],"mappings":";;;;;;IAmDsB,kBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 740, "column": 0}, "map": {"version":3,"sources":["file:///D:/CodeClash-main/CodeClash-main/src/components/UserVideo.tsx"],"sourcesContent":["\n'use client';\n\nimport { useEffect, useRef, useState } from 'react';\nimport { useToast } from '@/hooks/use-toast';\nimport { CameraOff, Loader2 } from 'lucide-react';\n\nexport function UserVideo() {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const { toast } = useToast();\n  const [permissionState, setPermissionState] = useState<'loading' | 'granted' | 'denied' | 'unsupported'>('loading');\n\n  useEffect(() => {\n    let stream: MediaStream | null = null;\n    \n    const getCamera = async () => {\n      try {\n        // Check if we're in a secure context (HTTPS or localhost)\n        if (!window.isSecureContext) {\n          console.error(\"Camera API requires a secure context (HTTPS or localhost).\");\n          setPermissionState('unsupported');\n          return;\n        }\n        \n        // Check if navigator.mediaDevices exists before trying to access it\n        if (!navigator.mediaDevices) {\n          console.error(\"Camera API not supported by this browser.\");\n          setPermissionState('unsupported');\n          // Don't show toast for unsupported browsers to avoid disrupting the user experience\n          return;\n        }\n        \n        try {\n          stream = await navigator.mediaDevices.getUserMedia({ video: true });\n          setPermissionState('granted');\n          if (videoRef.current) {\n            videoRef.current.srcObject = stream;\n          }\n        } catch (err) {\n          console.error(\"Error accessing camera:\", err);\n          setPermissionState('denied');\n          toast({\n            variant: \"destructive\",\n            title: \"Camera Access Denied\",\n            description: \"Please enable camera permissions in your browser settings to use this feature.\",\n          });\n        }\n      } catch (error) {\n        // Catch any unexpected errors during camera initialization\n        console.error(\"Unexpected error during camera initialization:\", error);\n        setPermissionState('unsupported');\n      }\n    };\n\n    getCamera();\n\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, [toast]);\n\n  return (\n    <div className=\"relative aspect-video w-full bg-muted/30 rounded-lg flex items-center justify-center overflow-hidden\">\n      <video\n        ref={videoRef}\n        className=\"w-full h-full object-cover\"\n        autoPlay\n        playsInline\n        muted\n      />\n      {permissionState === 'loading' && (\n        <div className=\"absolute inset-0 flex flex-col items-center justify-center text-center text-muted-foreground p-2 bg-background/50\">\n          <Loader2 className=\"h-8 w-8 animate-spin mx-auto mb-2\" />\n          <p className=\"text-xs\">Starting camera...</p>\n        </div>\n      )}\n      {(permissionState === 'denied' || permissionState === 'unsupported') && (\n        <div className=\"absolute inset-0 flex flex-col items-center justify-center text-center text-muted-foreground p-2 bg-background/50\">\n          <CameraOff className=\"h-8 w-8 mx-auto mb-2\" />\n          <p className=\"text-xs\">\n            {permissionState === 'denied' \n              ? 'Camera is off or permission denied' \n              : 'Camera not supported in this browser'}\n          </p>\n        </div>\n      )}\n      <div className=\"absolute bottom-1 left-2 text-xs bg-black/50 text-white px-1.5 py-0.5 rounded\">You</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AAAA;AAJA;;;;;AAMO,SAAS;IACd,MAAM,WAAW,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAoB;IAC1C,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,4HAAA,CAAA,WAAQ,AAAD;IACzB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAoD;IAEzG,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,SAA6B;QAEjC,MAAM,YAAY;YAChB,IAAI;gBACF,0DAA0D;gBAC1D,IAAI,CAAC,OAAO,eAAe,EAAE;oBAC3B,QAAQ,KAAK,CAAC;oBACd,mBAAmB;oBACnB;gBACF;gBAEA,oEAAoE;gBACpE,IAAI,CAAC,UAAU,YAAY,EAAE;oBAC3B,QAAQ,KAAK,CAAC;oBACd,mBAAmB;oBACnB,oFAAoF;oBACpF;gBACF;gBAEA,IAAI;oBACF,SAAS,MAAM,UAAU,YAAY,CAAC,YAAY,CAAC;wBAAE,OAAO;oBAAK;oBACjE,mBAAmB;oBACnB,IAAI,SAAS,OAAO,EAAE;wBACpB,SAAS,OAAO,CAAC,SAAS,GAAG;oBAC/B;gBACF,EAAE,OAAO,KAAK;oBACZ,QAAQ,KAAK,CAAC,2BAA2B;oBACzC,mBAAmB;oBACnB,MAAM;wBACJ,SAAS;wBACT,OAAO;wBACP,aAAa;oBACf;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,2DAA2D;gBAC3D,QAAQ,KAAK,CAAC,kDAAkD;gBAChE,mBAAmB;YACrB;QACF;QAEA;QAEA,OAAO;YACL,IAAI,QAAQ;gBACV,OAAO,SAAS,GAAG,OAAO,CAAC,CAAA,QAAS,MAAM,IAAI;YAChD;QACF;IACF,GAAG;QAAC;KAAM;IAEV,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,KAAK;gBACL,WAAU;gBACV,QAAQ;gBACR,WAAW;gBACX,KAAK;;;;;;YAEN,oBAAoB,2BACnB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,iNAAA,CAAA,UAAO;wBAAC,WAAU;;;;;;kCACnB,8OAAC;wBAAE,WAAU;kCAAU;;;;;;;;;;;;YAG1B,CAAC,oBAAoB,YAAY,oBAAoB,aAAa,mBACjE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,gNAAA,CAAA,YAAS;wBAAC,WAAU;;;;;;kCACrB,8OAAC;wBAAE,WAAU;kCACV,oBAAoB,WACjB,uCACA;;;;;;;;;;;;0BAIV,8OAAC;gBAAI,WAAU;0BAAgF;;;;;;;;;;;;AAGrG","debugId":null}},
    {"offset": {"line": 889, "column": 0}, "map": {"version":3,"sources":["file:///D:/CodeClash-main/CodeClash-main/src/components/AuthGuard.tsx"],"sourcesContent":["\n'use client';\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/hooks/useAuth';\nimport { ensureUserProfile } from '@/lib/user';\nimport { useToast } from '@/hooks/use-toast';\nimport { Loader2 } from 'lucide-react';\n\nexport default function AuthGuard({ children }: { children: React.ReactNode }) {\n  const { user, loading, isDbConnected, checkDbConnection } = useAuth();\n  const router = useRouter();\n  const { toast } = useToast();\n\n  useEffect(() => {\n    if (loading) {\n      return; \n    }\n\n    if (!user) {\n      router.push('/login');\n      return;\n    }\n    \n    if (isDbConnected === null) { // only check if not already checked\n        checkDbConnection();\n    }\n    \n  }, [user, loading, router, isDbConnected, checkDbConnection]);\n\n  useEffect(() => {\n    if (isDbConnected === false) { // explicit check for false\n      router.push('/setup-error');\n    }\n  }, [isDbConnected, router]);\n\n  if (loading || !user || isDbConnected !== true) {\n    return (\n      <div className=\"flex h-dvh items-center justify-center bg-background\">\n        <Loader2 className=\"h-8 w-8 animate-spin\" />\n        <p className=\"ml-4\">Authenticating...</p>\n      </div>\n    );\n  }\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AAEA;AACA;AAPA;;;;;;;AASe,SAAS,UAAU,EAAE,QAAQ,EAAiC;IAC3E,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,aAAa,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,wHAAA,CAAA,UAAO,AAAD;IAClE,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,4HAAA,CAAA,WAAQ,AAAD;IAEzB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,SAAS;YACX;QACF;QAEA,IAAI,CAAC,MAAM;YACT,OAAO,IAAI,CAAC;YACZ;QACF;QAEA,IAAI,kBAAkB,MAAM;YACxB;QACJ;IAEF,GAAG;QAAC;QAAM;QAAS;QAAQ;QAAe;KAAkB;IAE5D,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,kBAAkB,OAAO;YAC3B,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAe;KAAO;IAE1B,IAAI,WAAW,CAAC,QAAQ,kBAAkB,MAAM;QAC9C,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,iNAAA,CAAA,UAAO;oBAAC,WAAU;;;;;;8BACnB,8OAAC;oBAAE,WAAU;8BAAO;;;;;;;;;;;;IAG1B;IAEA,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 971, "column": 0}, "map": {"version":3,"sources":["file:///D:/CodeClash-main/CodeClash-main/src/app/matching/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useSearchParams, useRouter } from 'next/navigation';\nimport { collection, addDoc, serverTimestamp as firestoreServerTimestamp } from 'firebase/firestore';\nimport { useToast } from '@/hooks/use-toast';\nimport { Header } from '@/components/Header';\nimport { db, rtdb, isConfigured } from '@/lib/firebase';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Loader2 } from 'lucide-react';\nimport { generateProblem, type Problem } from '@/ai/flows/generateProblemFlow';\nimport { UserVideo } from '@/components/UserVideo';\nimport AuthGuard from '@/components/AuthGuard';\nimport { useAuth } from '@/hooks/useAuth';\nimport { FirebaseError } from 'firebase/app';\nimport { ref, onValue, set, get, remove, update, onDisconnect, off, serverTimestamp, type DatabaseReference } from 'firebase/database';\nimport { doc, getDoc } from 'firebase/firestore';\nimport Link from 'next/link';\n\n\nfunction MatchingContent() {\n  const { toast } = useToast();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const { user: currentUser } = useAuth();\n\n  const [statusText, setStatusText] = useState('Initializing...');\n  const matchmakingActive = useRef(false);\n  const myQueueRef = useRef<DatabaseReference | null>(null);\n  const [waitingTime, setWaitingTime] = useState(0);\n  const [showDebugInfo, setShowDebugInfo] = useState(false);\n  const [matchmakingStatus, setMatchmakingStatus] = useState<'initializing' | 'waiting' | 'found' | 'error'>('initializing');\n  const [debugInfo, setDebugInfo] = useState<{queueSize?: number, myEntry?: any, error?: string}>({});\n  const [isCreatingTestMatch, setIsCreatingTestMatch] = useState(false);\n  const [runningDiagnostics, setRunningDiagnostics] = useState(false);\n  const [diagnosticsResults, setDiagnosticsResults] = useState<Array<{\n    test: string;\n    status: 'pass' | 'fail' | 'warning' | 'running';\n    message: string;\n    details?: string;\n  }>>([]);\n  const [showSetupGuide, setShowSetupGuide] = useState(false);\n\n  const cleanup = () => {\n    if (myQueueRef.current) {\n        console.log('Cleaning up matchmaking reference:', myQueueRef.current.key);\n        onDisconnect(myQueueRef.current).cancel(); // Important: cancel the onDisconnect listener\n        off(myQueueRef.current); // Detach listener\n        remove(myQueueRef.current).catch(err => console.warn('Failed to remove queue entry:', err));\n        myQueueRef.current = null;\n    }\n  };\n  \n  const handleCancel = () => {\n    cleanup();\n    router.push('/lobby');\n  };\n\n  // Add a function to check if Firebase is configured correctly\n  const checkFirebaseSetup = () => {\n    // Basic check if Firebase config is complete\n    const hasFirebaseConfig = isConfigured;\n    // Check if RTDB URL specifically is set since it's critical for matchmaking\n    const hasRTDB = !!process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL;\n    \n    return {\n      isComplete: hasFirebaseConfig,\n      hasRTDB,\n    };\n  };\n  \n  const firebaseCheck = checkFirebaseSetup();\n  \n  useEffect(() => {\n    // If Firebase is not configured properly, show a prominent notification\n    if (!firebaseCheck.isComplete || !firebaseCheck.hasRTDB) {\n      toast({\n        title: \"Firebase Configuration Issue\",\n        description: \"Your Firebase setup appears to be incomplete. Use the diagnostics tool to troubleshoot.\",\n        variant: \"destructive\",\n        duration: 10000,\n      });\n    }\n  }, [firebaseCheck, toast]);\n\n  useEffect(() => {\n    if (matchmakingActive.current || !db || !rtdb || !currentUser) {\n      return;\n    }\n\n    const topicId = searchParams.get('topic');\n\n    if(!topicId) {\n      toast({ title: \"No Topic Selected\", description: \"Please select a topic from the lobby.\", variant: \"destructive\" });\n      router.push('/lobby');\n      return;\n    }\n    \n    // Real-time matchmaking only - bot matching functionality removed\n    \n    const startRealtimeMatchmaking = async () => {\n      const topicId = searchParams.get('topic');\n      setMatchmakingStatus('initializing');\n      \n      if (!topicId) {\n        toast({ title: \"No Topic Selected\", description: \"Please select a topic from the lobby.\", variant: \"destructive\" });\n        router.push('/lobby');\n        return;\n      }\n      \n      try {\n        // First check if queue exists and how many users are in it\n        const queueRef = ref(rtdb, `matchmaking/${topicId}`);\n        const snapshot = await get(queueRef);\n        if (matchmakingActive.current) return;\n\n        const queueData = snapshot.val() || {};\n        const queueSize = Object.keys(queueData).length;\n        setDebugInfo(prev => ({ ...prev, queueSize }));\n        \n        console.log(`Queue for ${topicId} has ${queueSize} users`);\n        \n        // Check if we were already in the queue (e.g., after a refresh)\n        if (queueData[currentUser.uid]) {\n          console.log('Found myself in the queue already, removing old entry');\n          await remove(ref(rtdb, `matchmaking/${topicId}/${currentUser.uid}`));\n        }\n\n        // Find potential opponents who are actively waiting in this topic\n        const opponents = snapshot.exists()\n          ? Object.entries(queueData)\n              .filter(([uid, userData]) => {\n                // Filter out myself and test users\n                if (uid === currentUser.uid || uid.startsWith('test_')) return false;\n                \n                // Check if the user has a clashId (already matched)\n                const userData_typed = userData as any;\n                if (userData_typed.clashId) return false;\n                \n                // Check if the user's timestamp is recent (within last 2 minutes)\n                const timestamp = userData_typed.timestamp;\n                if (timestamp) {\n                  const twoMinutesAgo = Date.now() - 2 * 60 * 1000;\n                  return timestamp > twoMinutesAgo;\n                }\n                \n                return true;\n              })\n              // Sort by timestamp (oldest first) to ensure fair matching\n              .sort((a, b) => {\n                const aData = a[1] as any;\n                const bData = b[1] as any;\n                return (aData.timestamp || 0) - (bData.timestamp || 0);\n              })\n          : [];\n\n        if (opponents.length > 0) {\n          // --- I AM THE MATCHER ---\n          matchmakingActive.current = true;\n          setMatchmakingStatus('found');\n          const [opponentId, opponentData] = opponents[0];\n\n          // Remove the opponent from the queue immediately to prevent others from matching with them\n          await remove(ref(rtdb, `matchmaking/${topicId}/${opponentId}`));\n\n          const createMatchWithRetry = async (retryCount = 0) => {\n            if (retryCount > 0) {\n              setStatusText(`Problem generation is taking a while. Retrying... (${retryCount}/3)`);\n            } else {\n              setStatusText('Opponent found! Generating challenge...');\n            }\n\n            if (retryCount > 3) {\n              toast({ title: \"Failed to Create Match\", description: \"The AI model seems to be unavailable right now. Please try again later.\", variant: \"destructive\" });\n              // Clean up opponent's queue entry so they don't get stuck waiting\n              remove(ref(rtdb, `matchmaking/${topicId}/${opponentId}`));\n              router.push('/lobby');\n              return;\n            }\n\n            try {\n              const topicName = topicId.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n              const problem = await generateProblem({ topic: topicName, seed: Date.now().toString() });\n\n              if (!problem || !problem.testCases || problem.testCases.some(tc => tc.expected === undefined || tc.expected === null) || problem.testCases.length < 5) {\n                console.error(\"AI returned invalid problem object, retrying...\");\n                setTimeout(() => createMatchWithRetry(retryCount + 1), 2000);\n                return;\n              }\n              \n              // Ensure all participant fields are defined to prevent Firebase errors\n              const currentUserName = currentUser.displayName || `User_${currentUser.uid.substring(0, 6)}`;\n              const currentUserAvatar = currentUser.photoURL || `https://api.dicebear.com/8.x/initials/svg?seed=${encodeURIComponent(currentUserName)}`;\n              \n              const opponentData_typed = opponentData as any;\n              const opponentName = opponentData_typed.userName || `User_${opponentId.substring(0, 6)}`;\n              const opponentAvatar = opponentData_typed.userAvatar || `https://api.dicebear.com/8.x/initials/svg?seed=${encodeURIComponent(opponentName)}`;\n\n              const clashDocRef = await addDoc(collection(db, 'clashes'), {\n                topicId,\n                problem: JSON.stringify(problem),\n                participants: [\n                  { userId: currentUser.uid, userName: currentUserName, userAvatar: currentUserAvatar, score: 0, solvedTimestamp: null, ready: false },\n                  { userId: opponentId, userName: opponentName, userAvatar: opponentAvatar, score: 0, solvedTimestamp: null, ready: false }\n                ],\n                createdAt: firestoreServerTimestamp(),\n                status: 'pending'\n              });\n\n              // Notify the opponent and redirect them\n              await update(ref(rtdb, `matchmaking/${topicId}/${opponentId}`), { clashId: clashDocRef.id });\n              \n              // Clean up my own queue entry if it exists\n              if (myQueueRef.current) {\n                remove(myQueueRef.current);\n                myQueueRef.current = null;\n              }\n\n              // Update user statuses in the online status database\n              const myStatusRef = ref(rtdb, `status/${currentUser.uid}`);\n              await update(myStatusRef, { status: 'in-match' });\n              \n              const opponentStatusRef = ref(rtdb, `status/${opponentId}`);\n              await update(opponentStatusRef, { status: 'in-match' });\n\n              toast({ title: \"Match Found!\", description: \"Let's go!\" });\n              router.push(`/clash/${clashDocRef.id}`);\n\n            } catch (error: any) {\n              console.error(`Failed to create match (attempt ${retryCount + 1}):`, error);\n              if (error instanceof FirebaseError && error.code === 'permission-denied') {\n                  router.push('/setup-error');\n              } else {\n                  setTimeout(() => createMatchWithRetry(retryCount + 1), 2000);\n              }\n            }\n          };\n\n          createMatchWithRetry();\n\n        } else {\n          // --- I AM THE WAITER ---\n          setStatusText('Waiting for an opponent...');\n          setMatchmakingStatus('waiting');\n          \n          // Start timer for waiting\n          const waitingStartTime = Date.now();\n          const timerInterval = setInterval(() => {\n            const secondsWaiting = Math.floor((Date.now() - waitingStartTime) / 1000);\n            setWaitingTime(secondsWaiting);\n            \n            // After waiting 3 minutes, suggest refreshing\n            if (secondsWaiting >= 180 && secondsWaiting % 30 === 0) { // Every 30 seconds after 3 minutes\n              toast({\n                title: \"Still waiting...\",\n                description: \"You might want to try refreshing or choosing a different topic.\",\n                variant: \"default\"\n              });\n            }\n          }, 1000);\n          \n          const myRef = ref(rtdb, `matchmaking/${topicId}/${currentUser.uid}`);\n          myQueueRef.current = myRef;\n\n          const myData = {\n            userName: currentUser.displayName || `User_${currentUser.uid.substring(0, 6)}`,\n            userAvatar: currentUser.photoURL || `https://api.dicebear.com/8.x/initials/svg?seed=${encodeURIComponent(currentUser.displayName || currentUser.uid)}`,\n            timestamp: Date.now(),  // Add timestamp for sorting\n            topicId: topicId, // Explicitly store the topic ID to make matching more reliable\n          };\n\n          console.log('Adding myself to queue with data:', myData);\n          setDebugInfo(prev => ({ ...prev, myEntry: myData }));\n          \n          // Set up removal on disconnect\n          onDisconnect(myRef).remove();\n          \n          // Add myself to the queue\n          await set(myRef, myData);\n\n          // Update my status in the online status database\n          const myStatusRef = ref(rtdb, `status/${currentUser.uid}`);\n          await update(myStatusRef, { status: 'waiting' });\n\n          // Set a timeout to notify the user if no opponents are found\n          const notificationTimeouts = [\n            setTimeout(() => {\n              if (!matchmakingActive.current) {\n                setStatusText('Still waiting for an opponent...');\n                toast({\n                  title: \"No opponents found yet\",\n                  description: \"You can continue waiting or cancel to try again later.\",\n                  variant: \"default\"\n                });\n              }\n            }, 60000), // 60 seconds\n            \n            setTimeout(() => {\n              if (!matchmakingActive.current) {\n                setStatusText('Waiting is taking longer than expected. You may want to try a different topic.');\n                toast({\n                  title: \"Long wait time\",\n                  description: \"Consider trying a different topic or time of day when more users are active.\",\n                  variant: \"default\"\n                });\n              }\n            }, 180000) // 3 minutes\n          ];\n\n          // Check queue size periodically to ensure our entry is still there\n          const queueCheckInterval = setInterval(async () => {\n            try {\n              const latestSnapshot = await get(queueRef);\n              const latestData = latestSnapshot.val() || {};\n              const latestSize = Object.keys(latestData).length;\n              setDebugInfo(prev => ({ ...prev, queueSize: latestSize }));\n              \n              // Check if I'm still in the queue\n              if (!latestData[currentUser.uid] && !matchmakingActive.current) {\n                console.log(\"My entry disappeared from queue! Re-adding myself\");\n                await set(myRef, { ...myData, timestamp: Date.now() });\n                \n                toast({\n                  title: \"Connection restored\",\n                  description: \"Your matchmaking entry was restored after a connection issue.\",\n                  variant: \"default\"\n                });\n              }\n              \n              // Check if there are any new opponents to match with\n              const newOpponents = Object.entries(latestData)\n                .filter(([uid, userData]) => {\n                  // Filter out myself and test users\n                  if (uid === currentUser.uid || uid.startsWith('test_')) return false;\n                  \n                  // Check if the user has a clashId (already matched)\n                  const userData_typed = userData as any;\n                  if (userData_typed.clashId) return false;\n                  \n                  // Check if the user's timestamp is recent (within last 2 minutes)\n                  const timestamp = userData_typed.timestamp;\n                  if (timestamp) {\n                    const twoMinutesAgo = Date.now() - 2 * 60 * 1000;\n                    return timestamp > twoMinutesAgo;\n                  }\n                  \n                  return true;\n                })\n                .sort((a, b) => {\n                  const aData = a[1] as any;\n                  const bData = b[1] as any;\n                  return (aData.timestamp || 0) - (bData.timestamp || 0);\n                });\n              \n              // If there are new opponents and I'm the oldest in the queue (or second oldest),\n              // initiate the match creation process\n              if (newOpponents.length > 0) {\n                const myTimestamp = myData.timestamp;\n                const oldestOpponentTimestamp = (newOpponents[0][1] as any).timestamp || 0;\n                \n                // If I've been waiting longer than the oldest opponent, I should create the match\n                if (myTimestamp < oldestOpponentTimestamp) {\n                  console.log(\"I've been waiting longer than the oldest opponent, initiating match creation\");\n                  cleanup(); // Clean up my queue entry and listeners\n                  \n                  // Re-run the matchmaking process to create the match\n                  startRealtimeMatchmaking();\n                }\n              }\n            } catch (e) {\n              console.warn(\"Failed to check queue status:\", e);\n            }\n          }, 10000); // Every 10 seconds\n          \n          // Listen for match notification\n          onValue(myRef, (snap) => {\n            if (matchmakingActive.current) return;\n            \n            const data = snap.val();\n            console.log('My queue entry updated:', data);\n            setDebugInfo(prev => ({ ...prev, myEntry: data }));\n            \n            if (data && data.clashId) {\n              matchmakingActive.current = true;\n              setMatchmakingStatus('found');\n              \n              // Clean up timers and listeners\n              clearInterval(timerInterval);\n              clearInterval(queueCheckInterval);\n              notificationTimeouts.forEach(clearTimeout);\n              \n              // Update my status\n              const myStatusRef = ref(rtdb, `status/${currentUser.uid}`);\n              update(myStatusRef, { status: 'in-match' });\n              \n              toast({ title: \"Match Found!\", description: \"Let's go!\" });\n              router.push(`/clash/${data.clashId}`);\n            }\n          });\n\n          // Clean up function for component unmount\n          return () => {\n            clearInterval(timerInterval);\n            clearInterval(queueCheckInterval);\n            notificationTimeouts.forEach(clearTimeout);\n            \n            // Reset my status when leaving matchmaking\n            const myStatusRef = ref(rtdb, `status/${currentUser.uid}`);\n            update(myStatusRef, { status: 'available' });\n          };\n        }\n      } catch (error) {\n        console.error(\"Matchmaking failed\", error);\n        setMatchmakingStatus('error');\n        setDebugInfo(prev => ({ ...prev, error: String(error) }));\n        toast({ title: \"Matchmaking Error\", description: \"An unexpected error occurred. Please try again.\", variant: 'destructive' });\n        router.push('/lobby');\n      }\n    };\n    \n    // All topics now use real-time matching\n    startRealtimeMatchmaking();\n\n    return () => {\n      cleanup();\n    };\n\n  }, [currentUser, router, searchParams, toast, db, rtdb]);\n\n  const formatTime = (seconds: number): string => {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n\n  // Add a function to create a test match with a simulated opponent\n  const createTestMatch = async () => {\n    if (!currentUser || !rtdb || !db) {\n      toast({\n        title: \"Error\",\n        description: \"You must be logged in and Firebase must be configured to create a test match.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsCreatingTestMatch(true);\n\n    try {\n      const topicId = searchParams.get('topic');\n      if (!topicId) {\n        throw new Error(\"No topic selected\");\n      }\n\n      // Generate a unique ID for the test opponent\n      const testOpponentId = `test_${Date.now()}`;\n      \n      // Create a clash document\n      const topicName = topicId.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n      const problem = await generateProblem({ topic: topicName, seed: Date.now().toString() });\n\n      if (!problem || !problem.testCases || problem.testCases.length < 5) {\n        throw new Error(\"Failed to generate a valid problem\");\n      }\n\n      // Create the clash with both participants\n      const clashesRef = collection(db, 'clashes');\n      const clashDocRef = await addDoc(clashesRef, {\n        topicId,\n        problem: JSON.stringify(problem),\n        participants: [\n          { \n            userId: currentUser.uid, \n            userName: currentUser.displayName || 'You', \n            userAvatar: currentUser.photoURL || `https://api.dicebear.com/8.x/initials/svg?seed=${encodeURIComponent(currentUser.displayName || 'You')}`, \n            score: 0, \n            solvedTimestamp: null, \n            ready: false \n          },\n          { \n            userId: testOpponentId, \n            userName: 'Test Opponent', \n            userAvatar: `https://api.dicebear.com/8.x/bottts/svg?seed=${testOpponentId}`, \n            score: 0, \n            solvedTimestamp: null, \n            ready: false,\n            isTestUser: true\n          }\n        ],\n        createdAt: firestoreServerTimestamp(),\n        status: 'pending',\n        isTestMatch: true\n      });\n\n      // Also create an entry in the realtime database for the clash\n      await set(ref(rtdb, `clashes/${clashDocRef.id}`), {\n        createdAt: serverTimestamp(),\n        status: 'waiting',\n        topic: topicId,\n        createdBy: currentUser.uid,\n        participants: {\n          [currentUser.uid]: {\n            uid: currentUser.uid,\n            displayName: currentUser.displayName || 'You',\n            photoURL: currentUser.photoURL,\n            ready: true,\n            joinedAt: serverTimestamp()\n          },\n          [testOpponentId]: {\n            uid: testOpponentId,\n            displayName: 'Test Opponent',\n            photoURL: `https://api.dicebear.com/8.x/bottts/svg?seed=${testOpponentId}`,\n            ready: false,\n            joinedAt: null,\n            isTestUser: true\n          }\n        },\n        isTestMatch: true\n      });\n\n      // Clean up any queue entries\n      if (myQueueRef.current) {\n        remove(myQueueRef.current);\n        myQueueRef.current = null;\n      }\n\n      toast({ title: \"Test Match Created\", description: \"Starting test match with simulated opponent\" });\n      router.push(`/clash/${clashDocRef.id}`);\n    } catch (error) {\n      console.error(\"Failed to create test match:\", error);\n      toast({\n        title: \"Failed to Create Test Match\",\n        description: \"There was an error creating the test match. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsCreatingTestMatch(false);\n    }\n  };\n\n  // Add a function to diagnose Firebase and matchmaking issues\n  const runDiagnostics = async () => {\n    if (runningDiagnostics) return;\n    setRunningDiagnostics(true);\n    \n    const updateResults = (index: number, result: { \n      status: 'pass' | 'fail' | 'warning' | 'running';\n      message: string;\n      details?: string;\n    }) => {\n      setDiagnosticsResults(prev => {\n        const newResults = [...prev];\n        newResults[index] = { ...newResults[index], ...result };\n        return newResults;\n      });\n    };\n\n    // Reset diagnostics results\n    setDiagnosticsResults([\n      { test: \"Firebase Configuration\", status: \"running\", message: \"Checking Firebase configuration...\" },\n      { test: \"Authentication\", status: \"running\", message: \"Checking authentication status...\" },\n      { test: \"Firestore Database\", status: \"running\", message: \"Testing Firestore connection...\" },\n      { test: \"Realtime Database\", status: \"running\", message: \"Testing Realtime Database connection...\" },\n      { test: \"Matchmaking Queue\", status: \"running\", message: \"Testing matchmaking queue operations...\" },\n      { test: \"Topic Selection\", status: \"running\", message: \"Checking topic parameter...\" },\n    ]);\n\n    // 1. Check Firebase Configuration\n    try {\n      if (!isConfigured) {\n        updateResults(0, { \n          status: 'fail', \n          message: 'Firebase is not properly configured',\n          details: 'Missing environment variables. Please check your .env.local file.'\n        });\n      } else {\n        updateResults(0, { status: 'pass', message: 'Firebase configuration found' });\n      }\n    } catch (error) {\n      updateResults(0, { \n        status: 'fail', \n        message: 'Error checking Firebase configuration',\n        details: String(error)\n      });\n    }\n\n    // 2. Check Authentication\n    try {\n      if (!currentUser) {\n        updateResults(1, { \n          status: 'fail', \n          message: 'User is not authenticated',\n          details: 'You need to be logged in to use matchmaking'\n        });\n      } else {\n        updateResults(1, { \n          status: 'pass', \n          message: `Authenticated as ${currentUser.displayName || currentUser.email || currentUser.uid}` \n        });\n      }\n    } catch (error) {\n      updateResults(1, { \n        status: 'fail', \n        message: 'Error checking authentication',\n        details: String(error)\n      });\n    }\n\n    // 3. Check Firestore Database\n    try {\n      if (!db) {\n        updateResults(2, { \n          status: 'fail', \n          message: 'Firestore not initialized',\n          details: 'Check your Firebase configuration'\n        });\n      } else {\n        // Try a simple read operation\n        try {\n          const testDocRef = doc(db, 'test_connection', 'test');\n          await getDoc(testDocRef);\n          updateResults(2, { status: 'pass', message: 'Firestore connection successful' });\n        } catch (error: any) {\n          if (error.code === 'permission-denied') {\n            updateResults(2, { \n              status: 'warning', \n              message: 'Firestore permission denied',\n              details: 'Your security rules may be too restrictive. This is normal for non-existent test documents.'\n            });\n          } else {\n            updateResults(2, { \n              status: 'fail', \n              message: `Firestore error: ${error.code || 'unknown'}`,\n              details: error.message\n            });\n          }\n        }\n      }\n    } catch (error) {\n      updateResults(2, { \n        status: 'fail', \n        message: 'Error testing Firestore',\n        details: String(error)\n      });\n    }\n\n    // 4. Check Realtime Database\n    try {\n      if (!rtdb) {\n        updateResults(3, { \n          status: 'fail', \n          message: 'Realtime Database not initialized',\n          details: 'Check if NEXT_PUBLIC_FIREBASE_DATABASE_URL is set in your .env.local file'\n        });\n      } else {\n        // Try a simple read operation\n        try {\n          const testRef = ref(rtdb, 'test_connection');\n          await get(testRef);\n          updateResults(3, { status: 'pass', message: 'Realtime Database connection successful' });\n        } catch (error: any) {\n          if (error.code === 'PERMISSION_DENIED') {\n            updateResults(3, { \n              status: 'warning', \n              message: 'Realtime DB permission denied',\n              details: 'Your database rules may be too restrictive. Update your rules to allow matchmaking.'\n            });\n          } else {\n            updateResults(3, { \n              status: 'fail', \n              message: `Realtime DB error: ${error.code || 'unknown'}`,\n              details: error.message\n            });\n          }\n        }\n      }\n    } catch (error) {\n      updateResults(3, { \n        status: 'fail', \n        message: 'Error testing Realtime Database',\n        details: String(error)\n      });\n    }\n\n    // 5. Check Matchmaking Queue\n    try {\n      const topicId = searchParams.get('topic');\n      \n      if (!rtdb || !topicId || !currentUser) {\n        updateResults(4, { \n          status: 'fail', \n          message: 'Cannot test matchmaking queue',\n          details: 'Missing required dependencies'\n        });\n      } else {\n        // Check if we can read the matchmaking queue\n        try {\n          const queueRef = ref(rtdb, `matchmaking/${topicId}`);\n          const snapshot = await get(queueRef);\n          \n          // Check if we can write to the queue\n          const testEntryRef = ref(rtdb, `matchmaking/${topicId}/test_${Date.now()}`);\n          await set(testEntryRef, { test: true, timestamp: Date.now() });\n          await remove(testEntryRef);\n          \n          // Count existing entries\n          const queueSize = snapshot.exists() ? Object.keys(snapshot.val()).length : 0;\n          \n          if (queueSize > 0 && queueSize < 100) { // sanity check for queue size\n            updateResults(4, { \n              status: 'pass', \n              message: `Queue is working with ${queueSize} user(s) waiting`,\n              details: 'Other users are in the queue'\n            });\n          } else if (queueSize === 0) {\n            updateResults(4, { \n              status: 'warning', \n              message: 'Queue is empty',\n              details: 'No other users are currently matching for this topic'\n            });\n          } else {\n            updateResults(4, { \n              status: 'warning', \n              message: `Unusual queue size: ${queueSize}`,\n              details: 'This may indicate stale entries in the queue'\n            });\n          }\n        } catch (error: any) {\n          updateResults(4, { \n            status: 'fail', \n            message: `Matchmaking queue error: ${error.code || 'unknown'}`,\n            details: error.message\n          });\n        }\n      }\n    } catch (error) {\n      updateResults(4, { \n        status: 'fail', \n        message: 'Error testing matchmaking queue',\n        details: String(error)\n      });\n    }\n\n    // 6. Check Topic Selection\n    try {\n      const topicId = searchParams.get('topic');\n      if (!topicId) {\n        updateResults(5, { \n          status: 'fail', \n          message: 'No topic selected',\n          details: 'You need to select a topic from the lobby'\n        });\n      } else {\n        updateResults(5, { \n          status: 'pass', \n          message: `Topic selected: ${topicId}`\n        });\n      }\n    } catch (error) {\n      updateResults(5, { \n        status: 'fail', \n        message: 'Error checking topic',\n        details: String(error)\n      });\n    }\n\n    setRunningDiagnostics(false);\n  };\n\n  const showDiagnosticsDialog = diagnosticsResults.length > 0;\n\n  if (!currentUser) {\n    return (\n       <div className=\"flex flex-col min-h-dvh bg-transparent text-foreground font-body\">\n        <Header />\n        <main className=\"flex-1 container mx-auto py-8 px-4 flex flex-col items-center justify-center\">\n            <Loader2 className=\"h-8 w-8 animate-spin\" />\n        </main>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex flex-col min-h-dvh bg-transparent text-foreground font-body\">\n      <Header />\n      <main className=\"flex-1 container mx-auto py-8 px-4 flex flex-col items-center justify-center\">\n        {/* Show Firebase setup warning if needed */}\n        {(!firebaseCheck.isComplete || !firebaseCheck.hasRTDB) && (\n          <div className=\"w-full max-w-2xl mb-4 rounded-lg border border-red-400 bg-red-100/10 p-4 text-red-400\">\n            <div className=\"flex items-start\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"h-5 w-5 mr-2 mt-0.5 flex-shrink-0\">\n                <path d=\"M12 9v4\"></path>\n                <path d=\"M12 17.5v.5\"></path>\n                <path d=\"M5.5 15h13\"></path>\n                <path d=\"M6 20 18 4\"></path>\n              </svg>\n              <div>\n                <h4 className=\"font-bold\">Firebase Not Properly Configured</h4>\n                <p className=\"text-sm mt-1\">Matchmaking requires proper Firebase setup with Realtime Database.</p>\n                <div className=\"mt-2 flex flex-wrap gap-2\">\n                  <Button \n                    size=\"sm\" \n                    variant=\"outline\"\n                    onClick={() => setShowSetupGuide(!showSetupGuide)}\n                    className=\"border-red-400 text-red-400 hover:bg-red-400/10\"\n                  >\n                    {showSetupGuide ? \"Hide Setup Guide\" : \"Show Setup Guide\"}\n                  </Button>\n                  <Button \n                    size=\"sm\" \n                    variant=\"outline\"\n                    onClick={runDiagnostics}\n                    className=\"border-red-400 text-red-400 hover:bg-red-400/10\"\n                  >\n                    Run Diagnostics\n                  </Button>\n                </div>\n              </div>\n            </div>\n            \n            {/* Setup guide collapsible section */}\n            {showSetupGuide && (\n              <div className=\"mt-4 pt-4 border-t border-red-400/30 text-sm\">\n                <h5 className=\"font-bold mb-2\">Quick Firebase Setup Guide:</h5>\n                <ol className=\"list-decimal list-inside space-y-2 pl-1\">\n                  <li>Create a Firebase project at <a href=\"https://console.firebase.google.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"underline\">firebase.google.com</a></li>\n                  <li>Register a Web App to get your config</li>\n                  <li>Enable Authentication (Email/Password)</li>\n                  <li>Create Firestore Database</li>\n                  <li>Create Realtime Database (critical for matchmaking)</li>\n                  <li>Set security rules for both databases</li>\n                  <li>Create <code>.env.local</code> with all Firebase config values</li>\n                  <li>Ensure NEXT_PUBLIC_FIREBASE_DATABASE_URL is set to your Realtime DB URL</li>\n                  <li>Restart your development server</li>\n                </ol>\n                <p className=\"mt-3\">\n                  See our <Link href=\"/docs/firebase-setup\" className=\"underline\">detailed Firebase setup guide</Link> or \n                  check the <Button variant=\"link\" className=\"p-0 h-auto underline\" onClick={() => router.push('/')}>README</Button> for complete instructions.\n                </p>\n              </div>\n            )}\n          </div>\n        )}\n\n        <Card className=\"bg-card/50 backdrop-blur-lg border border-white/10 rounded-2xl shadow-lg w-full max-w-2xl\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-3xl\">Finding Your Opponent</CardTitle>\n            <CardDescription>Please wait while we find another player.</CardDescription>\n          </CardHeader>\n          <CardContent className=\"flex flex-col items-center gap-6\">\n            <div className=\"aspect-video w-full max-w-md bg-muted/30 rounded-lg flex items-center justify-center overflow-hidden\">\n              <UserVideo />\n            </div>\n\n            <div className=\"flex items-center gap-4 text-lg text-muted-foreground\">\n              {matchmakingStatus === 'waiting' ? (\n                <div className=\"relative flex items-center gap-4\">\n                  <div className=\"h-12 w-12 rounded-full border-4 border-t-primary border-r-transparent border-b-transparent border-l-transparent animate-spin\"></div>\n                  <div>\n                    <p>{statusText}</p>\n                    <p className=\"text-sm text-muted-foreground\">Time elapsed: {formatTime(waitingTime)}</p>\n                  </div>\n                </div>\n              ) : matchmakingStatus === 'found' ? (\n                <div className=\"flex items-center gap-4\">\n                  <Loader2 className=\"h-6 w-6 animate-spin\" />\n                  <p>{statusText}</p>\n                </div>\n              ) : matchmakingStatus === 'error' ? (\n                <div className=\"flex items-center gap-4 text-red-400\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"h-6 w-6\">\n                    <path d=\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\"></path>\n                    <path d=\"M12 9v4\"></path>\n                    <path d=\"M12 17h.01\"></path>\n                  </svg>\n                  <p>Error in matchmaking</p>\n                </div>\n              ) : (\n                <div className=\"flex items-center gap-4\">\n                  <Loader2 className=\"h-6 w-6 animate-spin\" />\n                  <p>{statusText}</p>\n                </div>\n              )}\n            </div>\n            \n            {waitingTime > 120 && (\n              <div className=\"text-sm text-center max-w-md text-amber-300\">\n                <p>The wait seems longer than usual. You might want to:</p>\n                <ul className=\"list-disc list-inside mt-2 text-left\">\n                  <li>Try a different topic with more active users</li>\n                  <li>Come back at a time when more users are online</li>\n                  <li>Use the test mode to practice by yourself</li>\n                  <li>\n                    <Button \n                      variant=\"link\" \n                      size=\"sm\" \n                      className=\"text-amber-300 p-0 h-auto font-normal underline\"\n                      onClick={runDiagnostics}\n                      disabled={runningDiagnostics}\n                    >\n                      Run diagnostics\n                    </Button>\n                  </li>\n                </ul>\n              </div>\n            )}\n\n            <div className=\"flex flex-col sm:flex-row items-center gap-4 w-full justify-center\">\n              <Button variant=\"outline\" onClick={handleCancel}>Cancel Search</Button>\n              <Button \n                variant=\"default\" \n                onClick={() => {\n                  // First clean up existing queue entry\n                  cleanup();\n                  // Then restart the matchmaking process\n                  setWaitingTime(0);\n                  matchmakingActive.current = false;\n                  // Re-run the effect that does matchmaking\n                  const topicId = searchParams.get('topic');\n                  if (topicId && rtdb && currentUser) {\n                    const queueRef = ref(rtdb, `matchmaking/${topicId}`);\n                    setStatusText('Refreshing matchmaking...');\n                    setMatchmakingStatus('initializing');\n                    // We need to re-run the matchmaking logic from the effect\n                    const runMatchmaking = async () => {\n                      try {\n                        const snapshot = await get(queueRef);\n                        // Continue with the same matchmaking logic as in the effect\n                        // This is a simplified version that just puts the user back in the queue\n                        const myRef = ref(rtdb, `matchmaking/${topicId}/${currentUser.uid}`);\n                        myQueueRef.current = myRef;\n                        onDisconnect(myRef).remove();\n                        await set(myRef, {\n                          userName: currentUser.displayName,\n                          userAvatar: currentUser.photoURL,\n                          timestamp: Date.now()\n                        });\n                        setStatusText('Waiting for an opponent...');\n                        setMatchmakingStatus('waiting');\n                      } catch (error) {\n                        console.error(\"Failed to refresh matchmaking:\", error);\n                        toast({ \n                          title: \"Refresh Failed\", \n                          description: \"Please try going back to the lobby and starting again.\", \n                          variant: \"destructive\" \n                        });\n                      }\n                    };\n                    runMatchmaking();\n                  }\n                }}\n              >\n                Refresh Search\n              </Button>\n              <Button \n                variant=\"outline\" \n                onClick={() => setShowDebugInfo(!showDebugInfo)}\n                size=\"icon\"\n              >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"h-4 w-4\">\n                  <path d=\"M12 12m-10 0a10 10 0 1 0 20 0a10 10 0 1 0 -20 0\"></path>\n                  <path d=\"M12 16v-4\"></path>\n                  <path d=\"M12 8h.01\"></path>\n                </svg>\n              </Button>\n              <Button\n                variant={showDebugInfo ? \"default\" : \"outline\"}\n                onClick={runDiagnostics}\n                disabled={runningDiagnostics}\n                className=\"bg-amber-600 hover:bg-amber-700 text-white border-none\"\n                size=\"icon\"\n              >\n                {runningDiagnostics ? (\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\n                ) : (\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"h-4 w-4\">\n                    <path d=\"M19 11V4a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v7\"></path>\n                    <path d=\"M3 15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z\"></path>\n                    <path d=\"m10 7 4 4\"></path>\n                    <path d=\"m14 7-4 4\"></path>\n                    <path d=\"M12 22v-2\"></path>\n                    <path d=\"M12 18v-2\"></path>\n                  </svg>\n                )}\n              </Button>\n            </div>\n            \n            {/* Diagnostic results */}\n            {diagnosticsResults.length > 0 && (\n              <div className=\"w-full mt-4 border border-border rounded-md bg-card/50 p-4\">\n                <h3 className=\"font-bold text-lg mb-4 flex items-center\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"h-5 w-5 mr-2\">\n                    <path d=\"M19 11V4a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v7\"></path>\n                    <path d=\"M3 15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z\"></path>\n                    <path d=\"m10 7 4 4\"></path>\n                    <path d=\"m14 7-4 4\"></path>\n                    <path d=\"M12 22v-2\"></path>\n                    <path d=\"M12 18v-2\"></path>\n                  </svg>\n                  Matchmaking Diagnostics\n                </h3>\n                \n                <div className=\"space-y-4\">\n                  {diagnosticsResults.map((result, index) => (\n                    <div key={index} className=\"flex items-start gap-3\">\n                      {result.status === 'pass' && (\n                        <div className=\"h-5 w-5 mt-0.5 rounded-full bg-green-500/20 text-green-500 flex items-center justify-center\">\n                          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <path d=\"M20 6 9 17l-5-5\"></path>\n                          </svg>\n                        </div>\n                      )}\n                      {result.status === 'fail' && (\n                        <div className=\"h-5 w-5 mt-0.5 rounded-full bg-red-500/20 text-red-500 flex items-center justify-center\">\n                          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <path d=\"M18 6 6 18\"></path>\n                            <path d=\"m6 6 12 12\"></path>\n                          </svg>\n                        </div>\n                      )}\n                      {result.status === 'warning' && (\n                        <div className=\"h-5 w-5 mt-0.5 rounded-full bg-yellow-500/20 text-yellow-500 flex items-center justify-center\">\n                          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <path d=\"M12 9v4\"></path>\n                            <path d=\"M12 17.5v.5\"></path>\n                            <path d=\"M5.5 15h13\"></path>\n                            <path d=\"M6 20 18 4\"></path>\n                          </svg>\n                        </div>\n                      )}\n                      {result.status === 'running' && (\n                        <div className=\"h-5 w-5 mt-0.5 text-primary\">\n                          <Loader2 className=\"h-5 w-5 animate-spin\" />\n                        </div>\n                      )}\n                      <div className=\"flex-1\">\n                        <div className=\"font-medium\">{result.test}</div>\n                        <div className=\"text-sm text-muted-foreground\">{result.message}</div>\n                        {result.details && (\n                          <div className=\"text-xs text-muted-foreground mt-1 bg-background/50 p-1 rounded\">\n                            {result.details}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n                \n                {/* Add recommendations */}\n                {diagnosticsResults.some(r => r.status === 'fail' || r.status === 'warning') && (\n                  <div className=\"mt-6 pt-4 border-t border-border\">\n                    <h4 className=\"font-medium mb-2\">Recommendations:</h4>\n                    <ul className=\"text-sm space-y-2 list-disc list-inside text-muted-foreground\">\n                      {diagnosticsResults.find(r => r.test === \"Firebase Configuration\" && r.status === 'fail') && (\n                        <li>Set up your Firebase environment variables in <code>.env.local</code> file</li>\n                      )}\n                      {diagnosticsResults.find(r => r.test === \"Authentication\" && r.status === 'fail') && (\n                        <li>Sign in again or check if your authentication is working</li>\n                      )}\n                      {diagnosticsResults.find(r => r.test === \"Firestore Database\" && (r.status === 'fail' || r.status === 'warning')) && (\n                        <li>Check your Firestore security rules to allow read/write for clashes collection</li>\n                      )}\n                      {diagnosticsResults.find(r => r.test === \"Realtime Database\" && (r.status === 'fail' || r.status === 'warning')) && (\n                        <li>Make sure your Realtime Database URL is correctly set and rules allow matchmaking</li>\n                      )}\n                      {diagnosticsResults.find(r => r.test === \"Matchmaking Queue\" && r.status === 'warning' && r.message.includes(\"empty\")) && (\n                        <li>There are no other players waiting. Try the test mode or invite a friend to play.</li>\n                      )}\n                      <li>Try clearing your browser cache and cookies</li>\n                      <li>Check your network connection</li>\n                      <li>Try using the test mode for now</li>\n                    </ul>\n                  </div>\n                )}\n              </div>\n            )}\n            \n            {/* Add a divider and test match option */}\n            <div className=\"w-full my-4 flex items-center gap-4\">\n              <div className=\"h-px flex-1 bg-border\"></div>\n              <p className=\"text-xs text-muted-foreground\">OR</p>\n              <div className=\"h-px flex-1 bg-border\"></div>\n            </div>\n            \n            <div className=\"w-full\">\n              <Button \n                variant=\"secondary\" \n                className=\"w-full\" \n                onClick={createTestMatch}\n                disabled={isCreatingTestMatch}\n              >\n                {isCreatingTestMatch ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                    Creating Test Match...\n                  </>\n                ) : (\n                  <>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"mr-2\">\n                      <rect width=\"18\" height=\"18\" x=\"3\" y=\"3\" rx=\"2\" />\n                      <path d=\"M7 8h.01\" />\n                      <path d=\"M12 8h.01\" />\n                      <path d=\"M17 8h.01\" />\n                      <path d=\"M7 12h.01\" />\n                      <path d=\"M12 12h.01\" />\n                      <path d=\"M17 12h.01\" />\n                      <path d=\"M7 16h.01\" />\n                      <path d=\"M12 16h.01\" />\n                      <path d=\"M17 16h.01\" />\n                    </svg>\n                    Test Mode (Practice Now)\n                  </>\n                )}\n              </Button>\n              <p className=\"text-xs text-center text-muted-foreground mt-2\">\n                Create a test match with a simulated opponent to practice by yourself\n              </p>\n            </div>\n            \n            {showDebugInfo && (\n              <div className=\"w-full text-xs font-mono bg-black/30 p-2 rounded-md text-muted-foreground overflow-auto\">\n                <p>Topic ID: {searchParams.get('topic')}</p>\n                <p>Queue Size: {debugInfo.queueSize ?? 'Unknown'}</p>\n                <p>My UID: {currentUser.uid.substring(0, 8)}...</p>\n                {debugInfo.myEntry && (\n                  <p>My Entry: {JSON.stringify(debugInfo.myEntry)}</p>\n                )}\n                {debugInfo.error && (\n                  <p className=\"text-red-400\">Error: {debugInfo.error}</p>\n                )}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </main>\n    </div>\n  );\n}\n\nexport default function MatchingPage() {\n  return (\n    <AuthGuard>\n      <MatchingContent />\n    </AuthGuard>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}